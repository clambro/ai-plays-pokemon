digraph "G" {
  rankdir=LR;
  compound=true;
  node [shape=box, style="rounded,filled", fillcolor="#EFEFEF", fontname="Helvetica", fontsize=10];
  edge [fontname="Helvetica", fontsize=9];
  subgraph "cluster_CmdwhtUx1UCTZiLnVgdu5" {
    label="CreateUpdateLongTermMemory (Concurrent)";
    style="filled"; fillcolor="lightblue"; color="blue";
    node [fillcolor="lightblue", style="filled,rounded"];
    "CmdwhtUx1UCTZiLnVgdu5__entry" [label="", shape=point, width=0.01, style=invis];
    "CmdwhtUx1UCTZiLnVgdu5__exit"  [label="", shape=point, width=0.01, style=invis];
    "0wQKszlEWPbZbQrI3aghU" [label="CreateLongTermMemoryNode"];
    zuzKlerTfQxDanL3goCvo [label="UpdateLongTermMemoryNode"];
  }
  subgraph "cluster_iWrMCSZRDzSRGgptnpm0N" {
    label="DoUpdates (Concurrent)";
    style="filled"; fillcolor="lightblue"; color="blue";
    node [fillcolor="lightblue", style="filled,rounded"];
    "iWrMCSZRDzSRGgptnpm0N__entry" [label="", shape=point, width=0.01, style=invis];
    "iWrMCSZRDzSRGgptnpm0N__exit"  [label="", shape=point, width=0.01, style=invis];
    oKKOXEa8X6UyGMv151Ul6 [label="UpdateGoalsNode"];
    Wb3RqU8DZb0UblFDWUwDV [label="UpdateSummaryMemoryNode"];
    jWpT244d0tinL1W5oJ4rX [label="UpdateBackgroundStreamNode"];
  }
  jDI5ljUZeqpLjTIqBPoZ4 [label="PrepareAgentStoreNode"];
  WuhSkWKROqswTgmgqyiBb [label="OverworldHandlerSubflow", shape=component, style="filled,rounded", fillcolor="lightyellow"];
  L5mW1pWuSDKq0dE8nOaBl [label="RetrieveLongTermMemoryNode"];
  "6QZh7blm460yYhOaKMRhC" [label="BattleHandlerSubflow", shape=component, style="filled,rounded", fillcolor="lightyellow"];
  QzhoJtvUG1KbIa7Q3fh9I [label="SaveGameStateNode"];
  zuzKlerTfQxDanL3goCvo [label="UpdateLongTermMemoryNode"];
  "0wQKszlEWPbZbQrI3aghU" [label="CreateLongTermMemoryNode"];
  oKKOXEa8X6UyGMv151Ul6 [label="UpdateGoalsNode"];
  Wb3RqU8DZb0UblFDWUwDV [label="UpdateSummaryMemoryNode"];
  jWpT244d0tinL1W5oJ4rX [label="UpdateBackgroundStreamNode"];
  QEgNmL5KBjc5RXB5yBw1S [label="TextHandlerSubflow", shape=component, style="filled,rounded", fillcolor="lightyellow"];
  iWs3O0wFwcbHmHqiJxCLS [label="DummyNode"];
  jDI5ljUZeqpLjTIqBPoZ4 -> CmdwhtUx1UCTZiLnVgdu5__entry [lhead="cluster_CmdwhtUx1UCTZiLnVgdu5", style="dashed", label="ShouldRetrieveMemory(True)"];
  CmdwhtUx1UCTZiLnVgdu5__exit -> L5mW1pWuSDKq0dE8nOaBl [ltail="cluster_CmdwhtUx1UCTZiLnVgdu5", style="solid"];
  jDI5ljUZeqpLjTIqBPoZ4 -> iWs3O0wFwcbHmHqiJxCLS [style="dashed", label="ShouldRetrieveMemory(False)"];
  L5mW1pWuSDKq0dE8nOaBl -> iWs3O0wFwcbHmHqiJxCLS [style="solid"];
  iWs3O0wFwcbHmHqiJxCLS -> WuhSkWKROqswTgmgqyiBb [style="dashed", label="AgentHandlerIs(overworld)"];
  iWs3O0wFwcbHmHqiJxCLS -> "6QZh7blm460yYhOaKMRhC" [style="dashed", label="AgentHandlerIs(battle)"];
  iWs3O0wFwcbHmHqiJxCLS -> QEgNmL5KBjc5RXB5yBw1S [style="dashed", label="AgentHandlerIs(text)"];
  QEgNmL5KBjc5RXB5yBw1S -> iWrMCSZRDzSRGgptnpm0N__entry [lhead="cluster_iWrMCSZRDzSRGgptnpm0N", style="solid"];
  "6QZh7blm460yYhOaKMRhC" -> iWrMCSZRDzSRGgptnpm0N__entry [lhead="cluster_iWrMCSZRDzSRGgptnpm0N", style="solid"];
  WuhSkWKROqswTgmgqyiBb -> iWrMCSZRDzSRGgptnpm0N__entry [lhead="cluster_iWrMCSZRDzSRGgptnpm0N", style="solid"];
  iWrMCSZRDzSRGgptnpm0N__exit -> QzhoJtvUG1KbIa7Q3fh9I [ltail="cluster_iWrMCSZRDzSRGgptnpm0N", style="solid"];
}
