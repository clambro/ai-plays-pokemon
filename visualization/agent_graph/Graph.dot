digraph "G" {
  rankdir=LR;
  compound=true;
  node [shape=box, style="rounded,filled", fillcolor="#EFEFEF", fontname="Helvetica", fontsize=10];
  edge [fontname="Helvetica", fontsize=9];
  subgraph "cluster_vYxpkr8eQtWKIRECkeGoW" {
    label="CreateUpdateLongTermMemory (Concurrent)";
    style="filled"; fillcolor="lightblue"; color="blue";
    node [fillcolor="lightblue", style="filled,rounded"];
    "vYxpkr8eQtWKIRECkeGoW__entry" [label="", shape=point, width=0.01, style=invis];
    "vYxpkr8eQtWKIRECkeGoW__exit"  [label="", shape=point, width=0.01, style=invis];
    XCLf4p8eGC7SYbk7EpOXk [label="CreateLongTermMemoryNode"];
    equ9rLgXisVaKjtQJHN4W [label="UpdateLongTermMemoryNode"];
  }
  subgraph "cluster_XzCnY8PEzBYoNcY3YAmM4" {
    label="DoUpdates (Concurrent)";
    style="filled"; fillcolor="lightblue"; color="blue";
    node [fillcolor="lightblue", style="filled,rounded"];
    "XzCnY8PEzBYoNcY3YAmM4__entry" [label="", shape=point, width=0.01, style=invis];
    "XzCnY8PEzBYoNcY3YAmM4__exit"  [label="", shape=point, width=0.01, style=invis];
    "876Uq2MGP3GvGhDwjhAoI" [label="UpdateGoalsNode"];
    hRTgidJwZE7cgHp5JKiHn [label="UpdateSummaryMemoryNode"];
    XpApX4FnKdA1743L6Q5EO [label="UpdateBackgroundStreamNode"];
  }
  "6qwj364HfjC5spLGTnv6T" [label="TextHandlerSubflow", shape=component, style="filled,rounded", fillcolor="lightyellow"];
  XCLf4p8eGC7SYbk7EpOXk [label="CreateLongTermMemoryNode"];
  Oo4X3zqMCUNKfY2dD9E5d [label="SaveGameStateNode"];
  hRTgidJwZE7cgHp5JKiHn [label="UpdateSummaryMemoryNode"];
  equ9rLgXisVaKjtQJHN4W [label="UpdateLongTermMemoryNode"];
  EnoZfjWTzGhaQ1UZ3SbOZ [label="BattleHandlerSubflow", shape=component, style="filled,rounded", fillcolor="lightyellow"];
  XpApX4FnKdA1743L6Q5EO [label="UpdateBackgroundStreamNode"];
  "5mg6yyNpUtR391mvWNyxP" [label="OverworldHandlerSubflow", shape=component, style="filled,rounded", fillcolor="lightyellow"];
  UR3xp0w7tGdZy0tiNxf25 [label="RetrieveLongTermMemoryNode"];
  "7dAW6SkuXbI3K3r77MvTg" [label="ShouldCritiqueNode"];
  "876Uq2MGP3GvGhDwjhAoI" [label="UpdateGoalsNode"];
  "4FgBaGHLtjd7lMT3Oi2nQ" [label="DummyNode"];
  zCrc0dRtQm5WJgxKy4lhk [label="CritiqueNode"];
  JZsRRn4wYIgukJl3Gd3iP [label="PrepareAgentStoreNode"];
  JZsRRn4wYIgukJl3Gd3iP -> vYxpkr8eQtWKIRECkeGoW__entry [lhead="cluster_vYxpkr8eQtWKIRECkeGoW", style="dashed", label="ShouldRetrieveMemory(True)"];
  vYxpkr8eQtWKIRECkeGoW__exit -> UR3xp0w7tGdZy0tiNxf25 [ltail="cluster_vYxpkr8eQtWKIRECkeGoW", style="solid"];
  JZsRRn4wYIgukJl3Gd3iP -> "4FgBaGHLtjd7lMT3Oi2nQ" [style="dashed", label="ShouldRetrieveMemory(False)"];
  UR3xp0w7tGdZy0tiNxf25 -> "4FgBaGHLtjd7lMT3Oi2nQ" [style="solid"];
  "4FgBaGHLtjd7lMT3Oi2nQ" -> "5mg6yyNpUtR391mvWNyxP" [style="dashed", label="AgentHandlerIs(overworld)"];
  "4FgBaGHLtjd7lMT3Oi2nQ" -> EnoZfjWTzGhaQ1UZ3SbOZ [style="dashed", label="AgentHandlerIs(battle)"];
  "4FgBaGHLtjd7lMT3Oi2nQ" -> "6qwj364HfjC5spLGTnv6T" [style="dashed", label="AgentHandlerIs(text)"];
  "6qwj364HfjC5spLGTnv6T" -> "7dAW6SkuXbI3K3r77MvTg" [style="solid"];
  EnoZfjWTzGhaQ1UZ3SbOZ -> "7dAW6SkuXbI3K3r77MvTg" [style="solid"];
  "5mg6yyNpUtR391mvWNyxP" -> "7dAW6SkuXbI3K3r77MvTg" [style="solid"];
  "7dAW6SkuXbI3K3r77MvTg" -> zCrc0dRtQm5WJgxKy4lhk [style="dashed", label="ShouldCritique(True)"];
  "7dAW6SkuXbI3K3r77MvTg" -> XzCnY8PEzBYoNcY3YAmM4__entry [lhead="cluster_XzCnY8PEzBYoNcY3YAmM4", style="dashed", label="ShouldCritique(False)"];
  zCrc0dRtQm5WJgxKy4lhk -> XzCnY8PEzBYoNcY3YAmM4__entry [lhead="cluster_XzCnY8PEzBYoNcY3YAmM4", style="solid"];
  XzCnY8PEzBYoNcY3YAmM4__exit -> Oo4X3zqMCUNKfY2dD9E5d [ltail="cluster_XzCnY8PEzBYoNcY3YAmM4", style="solid"];
}
